# 【100本アプリ】投資・占い・音楽・タイピング・ゲーム - 学びと遊びを加速する5本のツール 🎮

こんにちは、あおいです！ 😊

100個のアプリを作るチャレンジ、今回は No.29〜No.38 の中から、特に学びの深かった5本の開発記録をお届けします ✨

今回は「**実用ツール × エンターテインメント**」がテーマ。
投資学習 📈、数秘術 🔮、メトロノーム 🎵、タイピング練習 ⌨️、そして進化したスネークゲーム 🐍。
どれも「ただ動くだけ」ではなく、**AI（Gemini）を搭載してユーザー体験を向上させた** のが特徴です。

合言葉は引き続き「**小さく作って、速く学ぶ**」💡

TDD（テスト駆動開発）の徹底、Web Audio APIによる高精度制御、そしてGemini APIによるパーソナライズ。技術的にも一歩踏み込んだ開発の記録です 📝

---

## 🛠️ 5つのアプリ開発記録

### 1️⃣ 投資クイズアプリ 📈
**🌍 公開URL**: https://app029-investment-quiz.vercel.app
**⏱️ 開発時間**: 約2日 | **📝 コミット数**: 25コミット（推定） | **🤖 作成者**: じぇみ＆クロ
**🛠️ 技術スタック**: Next.js 16, React 19, TypeScript 5, Tailwind CSS 4, Zustand, Jest, Playwright, Gemini API

投資の基礎知識を楽しく学べるクイズアプリ！ 株式・債券・投資信託などカテゴリー別に学び、AIが解説と弱点分析をしてくれます 🎓

**✨ 実装のポイント**：
- **完全TDD開発**: ロジックの堅牢性を確保するため、テストファーストで開発（カバレッジ87%達成）
- **復習モード**: 間違えた問題だけを重点的に復習できる効率的な学習システム
- **AI解説＆生成**: Gemini APIが詳細な解説を行い、さらに新しい問題を自動生成
- **堅牢なエラーハンドリング**: API制限（Rate Limit）を考慮したリトライ処理とフォールバック

**💡 学んだこと**：
教育系アプリでは「データの正確性」と「フィードバックの質」が命です。問題データの整合性を保つために厳格なバリデーションを実装し、AIによる解説生成では「初心者にもわかりやすく」というプロンプトエンジニアリングが重要でした 🧠 また、TDDを徹底することで、複雑なクイズロジック（正答率計算、復習キュー管理）もバグなく実装できました ✅

---

### 2️⃣ 数秘術風占い（Numerology Fortune） 🔮
**🌍 公開URL**: https://app033-numerology.vercel.app
**⏱️ 開発時間**: 約2日 | **📝 コミット数**: 20コミット（推定） | **🤖 作成者**: じぇみ＆クロ
**🛠️ 技術スタック**: Next.js 14, React 18, Framer Motion, Tailwind CSS, Gemini 2.5 Flash

誕生日から運命の数字（ライフパスナンバー）を導き出す、神秘的な占いアプリ ✨ AIがあなたの性格や相性を深く読み解きます。

**✨ 実装のポイント**：
- **リッチなアニメーション**: Framer Motionを使い、計算過程や結果表示を神秘的に演出
- **相性診断機能**: 2人の誕生日から相性スコアとアドバイスを算出
- **AIパーソナライズ**: 数字の意味だけでなく、その人のための具体的なアドバイスをAIが生成
- **PWA対応**: オフラインでも基本計算が可能

**💡 学んだこと**：
占いアプリの肝は「演出」と「納得感」です。単に計算結果を出すだけでなく、アニメーションで期待感を高め、AIによる詳細な文章で納得感を生み出すことに注力しました 🎭 また、マスターナンバー（11, 22, 33）などの特殊ルールの実装を通じて、ドメインロジックの整理能力が向上しました 🔢

---

### 3️⃣ メトロノーム (Metronome) 🎵
**🌍 公開URL**: https://app034-metronome.vercel.app
**⏱️ 開発時間**: 約3日 | **📝 コミット数**: 30コミット（推定） | **🤖 作成者**: じぇみ＆クロ
**🛠️ 技術スタック**: Next.js 14, React 18, Web Audio API, Tailwind CSS, Gemini 2.5 Flash

±5ms以内の超高精度を誇るプロ仕様メトロノーム！ 視覚的な振り子アニメーションと、AIによるリズムトレーニング提案機能付き 🎼

**✨ 実装のポイント**：
- **Web Audio API**: `setInterval`のズレを克服するため、正確なスケジューリングを実装
- **ビジュアル同期**: 音と完全に同期して揺れる振り子アニメーション
- **Tap Tempo**: タップしてBPMを直感的に設定
- **AIトレーニング提案**: 苦手なリズムやジャンルに合わせた練習メニューをAIが提案

**💡 学んだこと**：
Webブラウザで「正確な時間」を扱う難しさを痛感しました（後述のエピソード参照）。JavaScriptのメインスレッドは不安定なため、Web Audio APIの時間を基準にする設計が必須でした ⏱️ また、音と映像のズレ（レイテンシ）を極限まで減らすチューニングは、まさにエンジニアリングの醍醐味でした 🔧

---

### 4️⃣ タイピングゲーム - AI搭載練習アプリ ⌨️
**🌍 公開URL**: https://app036-typing-game.vercel.app
**⏱️ 開発時間**: 約3日 | **📝 コミット数**: 35コミット（推定） | **🤖 作成者**: じぇみ＆クロ
**🛠️ 技術スタック**: Next.js 14, React 18, Dexie.js (IndexedDB), Gemini 2.5 Flash

AIがあなたのレベルに合わせて練習文を生成！ 苦手キーをヒートマップで可視化し、効率的な上達をサポートします 🚀

**✨ 実装のポイント**：
- **日本語IME対応**: 物理キーボードの入力を正確にトラッキングする独自ロジック
- **AI文章生成**: 初級・中級・上級に応じて、Geminiが最適な練習文を動的に作成
- **ヒートマップ分析**: ミスしやすいキーを色分け表示し、AIが改善アドバイス
- **ローカルDB**: Dexie.jsで大量のプレイ履歴をブラウザ内に保存

**💡 学んだこと**：
タイピングゲームの最大の壁は「日本語入力（IME）」の挙動でした。ブラウザごとのイベント発火の違いを吸収し、正確に打鍵を判定するロジックの実装に苦労しました 💦 また、AIを「コンテンツ生成（問題文）」と「分析（アドバイス）」の両方に使うことで、飽きさせない仕組みを作れることを学びました 🤖

---

### 5️⃣ ネオンスネークアリーナ 🐍
**🌍 公開URL**: https://app038-snake-game.vercel.app
**⏱️ 開発時間**: 約3日 | **📝 コミット数**: 40コミット（推定） | **🤖 作成者**: じぇみ＆クロ
**🛠️ 技術スタック**: Next.js 14, React 18, Zustand, Dexie.js, Gemini 2.5 Flash

ただのスネークゲームじゃない！ ネオン輝くサイバー空間で、AIスネークと対戦したり、プレイスタイルをAIに分析してもらえる進化系ゲーム 🎮

**✨ 実装のポイント**：
- **AI対戦モード**: A*アルゴリズムで動くAIスネークとのリアルタイム対戦
- **プレイスタイル分析**: ゲーム終了後、Geminiが動きのクセやリスク許容度を分析してアドバイス
- **パフォーマンス**: `requestAnimationFrame`による滑らかな60fps描画
- **PWA & オフライン**: ネットがなくても遊べる完全オフライン対応（分析はフォールバック機能あり）

**💡 学んだこと**：
ゲーム開発における「状態管理」と「描画ループ」の分離の重要性を学びました。Zustandを使ってステートを管理しつつ、Reactのレンダリングを最適化しないとカクついてしまいます 🐢 また、AI対戦相手の実装では、強すぎず弱すぎない「人間らしい」アルゴリズムの調整が奥深かったです 🧠

---

## 🎬 開発エピソード：メトロノームの「リズム音痴」事件

### クロ、自信満々のスタート 😤

「メトロノーム？ 簡単だよ。`setInterval`で音を鳴らせばいいんでしょ？」

クロは意気揚々とコードを書き始めました。
```javascript
setInterval(() => {
  playSound();
}, 60000 / bpm);
```
「ほら、できた！」

しかし、実際に鳴らしてみると……
**「チッ……チッ…チッ………チッ……チッ」**

あおい「なんか……リズム、よれてない？」
じぇみ「酔っ払ったドラマーみたいじゃな 🍺」

### ブラウザの気まぐれ 😱

実は、JavaScriptの `setInterval` は正確ではありません。ブラウザが他の処理（描画やスクロール）で忙しくなると、平気で数ミリ秒〜数十ミリ秒遅れます。音楽の世界でこのズレは致命的 💀

クロ「う嘘だ……僕のコードが……リズム音痴だなんて……」

### チャッピーの「先読み」講座 🕰️

落ち込むクロに、チャッピーが助け舟を出しました。

「クロ、**Web Audio API** の `currentTime` を使うんや。これはブラウザのメインスレッドとは独立した、絶対的な時間軸を持っとる」

チャッピーが授けた秘策は **「Lookahead Scheduling（先読みスケジューリング）」**。

1. `setInterval` は「音を鳴らす」ためではなく、「スケジューリングする」ために使う（少しアバウトでOK）。
2. 実際に音を鳴らすのは Web Audio API に「未来の時間」を指定して予約する。

```javascript
// イメージ
audioCtx.createOscillator().start(nextNoteTime); // 正確な未来の時間に予約！
```

これにより、ブラウザが少々重くなっても、予約された音は正確なタイミングで鳴り響くようになりました ✨

クロ「すごい！ 機械みたいに正確だ！（機械だけど）」
じぇみ「これでプロのミュージシャンも納得じゃな 🎵」

---

## 🎯 開発で確立した3つの原則

### 1. TDDは「急がば回れ」の近道 🐢💨
今回の5本は、ロジックが複雑なものばかりでした（クイズの正誤判定、数秘術の計算、ゲームの衝突判定）。これらをいきなり実装せず、**まずテストを書く** ことで、デバッグ時間を大幅に短縮できました。「テストが通った＝ロジックは正しい」という安心感は、開発スピードを逆に加速させます。

### 2. AIは「生成」と「分析」の二刀流 ⚔️
Gemini APIの使い方が洗練されてきました。
- **生成**: クイズ問題、占い結果、練習用文章を作る（コンテンツ不足の解消）
- **分析**: ユーザーの弱点、プレイスタイル、相性を診断する（パーソナライズ）
この2つを組み合わせることで、静的なツールが「自分だけのコーチ」に進化します。

### 3. ブラウザの限界を知り、専用APIを使う 🌐
メトロノームのWeb Audio API、タイピングのKeyboardEvent、スネークのrequestAnimationFrame。Web標準のAPIを深く理解し、適切に使い分けることで、ネイティブアプリに負けないパフォーマンスを出せることがわかりました。

---

## 🚀 次へのステップ

今回の開発で、**「ロジックの複雑さ」** と **「リアルタイム性」** という壁を乗り越えました 💪

次はさらに難易度を上げ、**「データ可視化」** や **「複雑なシミュレーション」** に挑戦していきます。
100本ノックはまだまだ続きます！ 応援よろしくお願いします ✨

---

**100個アプリチャレンジ、継続中！** 🔥
公開したアプリはすべて実際に動作します。ぜひ触ってみてください！

#100DaysOfCode #個人開発 #NextJS #React #GeminiAPI #WebAudioAPI #TDD #Playwright #PWA #投資 #占い #音楽 #タイピング #ゲーム開発
